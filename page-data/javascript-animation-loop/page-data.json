{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/javascript-animation-loop/",
    "result": {"data":{"cur":{"id":"ffea3eae-0462-5572-b586-5d2ec1e6541e","html":"<h2 id=\"-animation-loop는-언제-실행되나요\" style=\"position:relative;\"><a href=\"#-animation-loop%EB%8A%94-%EC%96%B8%EC%A0%9C-%EC%8B%A4%ED%96%89%EB%90%98%EB%82%98%EC%9A%94\" aria-label=\" animation loop는 언제 실행되나요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🤔 Animation Loop는 언제 실행되나요?</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 464px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.55555555555556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAACk0lEQVQozwGIAnf9ANLG0xLNyc9BzcjPPc7H0SnirP0DoP+UAM3F0QDN064NyczGNcfLyjrGy8kthN+uA8qt3QDV8bgA0f+hDtHvtybN68IozezCJ83pwirK5sAHANeo8BvlnP8J3qTuDt6s7A7dreoW36zoBtWn6wTZrvOl3LDww+Cx6r3gsevD36/qp8k0/wHFFv8AsWfdcbFh3L61atPCtWvTybRs0sWuiMYwAOvGtSbQwsUksrTnHba16hm5t+kfsbn7BtvIzgbvzrzh2sbR/76/8fnCwez/wL/s4OKVlQLtl3sA1J6PpdGYlvm8atN0wl3SZsJl0GvZfqMWAP/pjxDHz8IeyNLDCb3O1wCw0OcNmcn/CenipAb/6Zre2929+KnP9vOy0u7/rtDv2/TKAAH/2wUA6slJqvrTPNJ0zOA2Yqnkq2Ko4aZupeGhAP/kkQ/IzMAa0szCB7TTzgCyx+8LmMP/Cerdqgf/5J7j3tnA/q3M+fi2z/D/sszx4fO6EgL/zRkA7MFPr//IPtCDqOVjaqHh/2mg3/9upOHzAN/fmSDD07kjm8nWGJjK1xOjztobpND2BtHbtwXp5anY0N3C9a3T6fCz1eP/sNTk1r3GCQHd1ToAycVoo83OX9p3tsyKaZ7m/2ie4/5upOLuAJDctxuN4LMMkNytD5DbrA2j4roYt+nEB6Tjxwax5szZs+fK/7bnx/a158j/s+fG2QDgYQE15o8Aasicm2jOl/9uyKL/a7i6/Wy4uP90rNSFAKDdsQWZ2bEEjdeuBIzYrgOZ27gEuuTdAMrnxgCw478irOHBKanhxCeq4cQpqeDEIgm9NwBsyn4Ae6uDHXKvgypnvnsga8xmJGvJZCJrqf8Au5KZyxZZpJcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"DOM Performance\"\n        title=\"DOM Performance\"\n        src=\"/static/281970efed8751091c613d93d9786bfb/69096/javascript-animation-loop-01.png\"\n        srcset=\"/static/281970efed8751091c613d93d9786bfb/e9ff0/javascript-animation-loop-01.png 180w,\n/static/281970efed8751091c613d93d9786bfb/f21e7/javascript-animation-loop-01.png 360w,\n/static/281970efed8751091c613d93d9786bfb/69096/javascript-animation-loop-01.png 464w\"\n        sizes=\"(max-width: 464px) 100vw, 464px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p style=\"color: #9E9E9E; font-size: 14px; text-align:center; margin: -20px 10px 0 10px;\">\n브라우저의 렌더링 과정의 일부분\n</p>\n<br />\n<p>Animation Loop는 브라우저 렌더링 과정에서 <code class=\"language-text\">repaint</code> 이전 단계에서 진행됩니다.</p>\n<ul>\n<li><strong>Reflow</strong> 모든 요소의 크기와 위치를 다시 계산하는 과정</li>\n<li><strong>Repaint</strong> reflow 다음 단계, 레이아웃을 제외한 요소가 그려지는 과정</li>\n<li><strong>Composite</strong> 다양한 요소를 레이어로 그룹화하고 이러한 레이어를 래스터화는 과정</li>\n</ul>\n<hr>\n<h2 id=\"-setinterval\" style=\"position:relative;\"><a href=\"#-setinterval\" aria-label=\" setinterval permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🔮 SetInterval</h2>\n<h3 id=\"️-setinterval이란-무엇일까\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-setinterval%EC%9D%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C\" aria-label=\"️ setinterval이란 무엇일까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>⚡️ setInterval이란 무엇일까?</h3>\n<p>requestAnimationFrame의 등장 이전의 자바스크립트 애니메이션 구현에 <code class=\"language-text\">setTimeout</code>과 주로 사용되는 함수라고 합니다.\nsetInterval의 두번째 인자에 <code class=\"language-text\">인터벌</code>을 기입해 애니메이션의 <strong>반복 속도를 조절</strong>할 수 있는 장점이 있습니다.\n하지만 디스플레이 성능을 고려하지 않은 짧은 업데이트 주기 때문에 애니메이션의 <strong>프레임 드랍</strong>이 발생하는 단점이 있습니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 23.333333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsTAAALEwEAmpwYAAABEklEQVQY02WOUU+CUBiG+TNt3dpq/Yf+YhddNdNNzU0NV65NGOIBDyYWiCJ4gqVGbDpAj/AdmquLtp6L9+a5eB8u/ws7ThQn2ssr1nR34cn9wdwlR8NY/g+OJlGWZQzS/S6BdM9oYBnaNlx4jr4J34OlHW88dvgCGkJK6S7JMgAAxhgAcEV5Fh8Av1kNM8q33Vw+CToFKhUIf2lUzxat83x4AfJpPr7qDQctI/zN+3l+VkaPnU6pUuvr01az/sRXDF26u71GcpdvVuu1ojFGD40y3yhLKr4p3WOMBUFot9uiKHL21LJtW1XQh0cmEwspeLUOkYIn1mw+d1VV8/zlzHalHvpcr0ZDzTRNQojjOL7vfwOJuQCQTOQ2ggAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"setInterval, setTimeout flow\"\n        title=\"setInterval, setTimeout flow\"\n        src=\"/static/6e35a283b1b93f266a18f739475db1ea/37523/javascript-animation-loop-02.png\"\n        srcset=\"/static/6e35a283b1b93f266a18f739475db1ea/e9ff0/javascript-animation-loop-02.png 180w,\n/static/6e35a283b1b93f266a18f739475db1ea/f21e7/javascript-animation-loop-02.png 360w,\n/static/6e35a283b1b93f266a18f739475db1ea/37523/javascript-animation-loop-02.png 720w,\n/static/6e35a283b1b93f266a18f739475db1ea/00d43/javascript-animation-loop-02.png 1000w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p style=\"color: #9E9E9E; font-size: 14px; text-align:center; margin: -15px 10px 0 10px;\">\nJank: 스크롤, 전환 또는 애니메이션과 같이 화면의 움직임이 있을 때 사용자가 경험하는 버벅거림\n</p>\n<br />\n<h3 id=\"️-setinterval로-작성한-애니메이션\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-setinterval%EB%A1%9C-%EC%9E%91%EC%84%B1%ED%95%9C-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98\" aria-label=\"️ setinterval로 작성한 애니메이션 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>⚡️ setInterval로 작성한 애니메이션</h3>\n<p>시간의 흐름에 따라 에몽가가 왼쪽으로 이동하는 애니메이션을 작성했습니다.\nfps값도 계산했으니 하단에서 requestAnimationFrame과 결과를 비교해봅시다.</p>\n<div class=\"codebox-title\">index.html - setInterval</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> ele <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#emolga'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> pVal <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#p_value'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> cVal <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#c_value'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> xPos <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> start <span class=\"token operator\">=</span> performance<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> timer<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">render</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>xPos <span class=\"token operator\">>=</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span> <span class=\"token function\">clearInterval</span><span class=\"token punctuation\">(</span>timer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// 에몽가 x축 이동</span>\n  pVal<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> xPos<span class=\"token punctuation\">;</span>\n  xPos <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  ele<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">translateX(-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>xPos<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// 콜백 호출 주기 계산</span>\n  <span class=\"token keyword\">let</span> action <span class=\"token operator\">=</span> performance<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> diff <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">trunc</span><span class=\"token punctuation\">(</span>action <span class=\"token operator\">-</span> start<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  start <span class=\"token operator\">=</span> action<span class=\"token punctuation\">;</span>\n  cVal<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>diff<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">ms (</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">trunc</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span> <span class=\"token operator\">/</span> diff<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">fps)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\ntimer <span class=\"token operator\">=</span> <span class=\"token function\">setInterval</span><span class=\"token punctuation\">(</span>render<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br />\n<h2 id=\"-requestanimationframe\" style=\"position:relative;\"><a href=\"#-requestanimationframe\" aria-label=\" requestanimationframe permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🔮 requestAnimationFrame</h2>\n<h3 id=\"️-requestanimationframe이란-무엇일까\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-requestanimationframe%EC%9D%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C\" aria-label=\"️ requestanimationframe이란 무엇일까 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>⚡️ requestAnimationFrame이란 무엇일까?</h3>\n<p>브라우저에게 수행하기를 원하는 애니메이션을 알리고 다음 <code class=\"language-text\">repaint</code>가 진행되기 전에 해당 애니메이션을 업데이트하는 함수를 디스플레이의 <code class=\"language-text\">화면 주사율</code>에 따른 주기로 호출하게 합니다.\n<strong>60프레임</strong>을 목표로 동작하기 때문에 사용자에게 보다 나은 경험을 선사할 수 있습니다.👍</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 23.333333333333332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsTAAALEwEAmpwYAAABEElEQVQY0z3PXU+CUADGcb7/B/Curc3hMpB0zaEJpzmMF0EOYFYomkgZJqDl4Qw34LTs5Xf1v3weCkAXr2sP87k2NkjU1Nx44bYObwPRXh9e6n4wlR27DOujWTSZdAlWSkJIWZATqudGz9ZZuy9ry8BTK03jdboYqLdV/imdwXMg9RX/3dMqV8rC8YylfYmPZLMJgyCI45iS+6Ar3DVYxh6NWm3xmmPGziNdY1QJdG4krsHdW7DTG7AXtAWdKs2KoiAIAs/zAACqJCTLMn+1yo5HnKLd/gOhQ5LEu/1nmqJttE12e4xRnCR5/rv2H0UIKYoiDEPf93VdV0+Gw6FpmoZh6LoOIfxphND33z95nn8BZ/n/jjt6ZE4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"requestAnimaionFrame flow\"\n        title=\"requestAnimaionFrame flow\"\n        src=\"/static/7b1959d9953869798ba89282c6533bd2/37523/javascript-animation-loop-03.png\"\n        srcset=\"/static/7b1959d9953869798ba89282c6533bd2/e9ff0/javascript-animation-loop-03.png 180w,\n/static/7b1959d9953869798ba89282c6533bd2/f21e7/javascript-animation-loop-03.png 360w,\n/static/7b1959d9953869798ba89282c6533bd2/37523/javascript-animation-loop-03.png 720w,\n/static/7b1959d9953869798ba89282c6533bd2/00d43/javascript-animation-loop-03.png 1000w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h3 id=\"️-requestanimationframe로-작성한-애니메이션\" style=\"position:relative;\"><a href=\"#%EF%B8%8F-requestanimationframe%EB%A1%9C-%EC%9E%91%EC%84%B1%ED%95%9C-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98\" aria-label=\"️ requestanimationframe로 작성한 애니메이션 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>⚡️ requestAnimationFrame로 작성한 애니메이션</h3>\n<p>상단의 setInterval과 동일한 동작을 수행하는 애니메이션을 작성했습니다.\n아래에서 둘의 결과를 비교해봅시다.</p>\n<div class=\"codebox-title\">index.html - requestAnimationFrame</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> ele <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#emolga'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> pVal <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#p_value'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> cVal <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#c_value'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> xPos <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> start <span class=\"token operator\">=</span> performance<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> animationId<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">requestRender</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 에몽가 x축 이동</span>\n  pVal<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> xPos<span class=\"token punctuation\">;</span>\n  xPos <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  ele<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">translateX(-</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>xPos<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// 콜백 호출 주기 계산</span>\n  <span class=\"token keyword\">let</span> action <span class=\"token operator\">=</span> performance<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> diff <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">trunc</span><span class=\"token punctuation\">(</span>action <span class=\"token operator\">-</span> start<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  start <span class=\"token operator\">=</span> action<span class=\"token punctuation\">;</span>\n  cVal<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>diff<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">ms (</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">trunc</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span> <span class=\"token operator\">/</span> diff<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">fps)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n  animationId <span class=\"token operator\">=</span> <span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span>requestRender<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>xPos <span class=\"token operator\">></span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span> <span class=\"token function\">cancelAnimationFrame</span><span class=\"token punctuation\">(</span>animationId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">requestAnimationFrame</span><span class=\"token punctuation\">(</span>requestRender<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br />\n<h2 id=\"-이제-결과를-비교해-봅시다\" style=\"position:relative;\"><a href=\"#-%EC%9D%B4%EC%A0%9C-%EA%B2%B0%EA%B3%BC%EB%A5%BC-%EB%B9%84%EA%B5%90%ED%95%B4-%EB%B4%85%EC%8B%9C%EB%8B%A4\" aria-label=\" 이제 결과를 비교해 봅시다 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👩‍💻 이제 결과를 비교해 봅시다</h2>\n<p><video src=\"/6451ef1a5aeb2c68263ed3dc567b33cc/javascript-animation-loop-04.mov\" loop muted Autoplay=autoplay style=\"width: 100%; height: 100%; object-fit: cover;\"></video></p>\n<p style=\"color: #9E9E9E; font-size: 14px; text-align:center; margin: -25px 10px 0 10px;\">\nsetInterval과 requestAnimationFrame을 실행한 화면, 해당 영상은 120Hz의 디스플레이에서 녹화했습니다.\n</p>\n<br />\n<p>두 함수 동일하게 500번 반복될 동안 각각 <strong>250fps</strong> 와 <strong>120fps</strong>의 속도로 애니메이션이 구동했음을 확인할 수 있습니다. setInterval과 다르게 <code class=\"language-text\">requestAnimationFrame</code>은 디스플레이의 화면 주사율에 맞춰 애니메이션을 업데이트했음을 확인할 수 있습니다.\n<br />\n여기서는 언급이 없었지만, 다른 탭으로 이동하면 setInterval은 계속해서 동작하지만 requestAnimationFrame는 <strong>동작을 일시중지</strong>합니다. <strong>복잡하고 큰 애니메이션</strong>의 작업을 할 경우에는 <code class=\"language-text\">requestAnimationFrame</code>의 효과는 더 두드러질 것입니다.</p>\n<hr>\n<h2 id=\"-그래서-어떤-함수가-애니메이션에-더-적합한가요\" style=\"position:relative;\"><a href=\"#-%EA%B7%B8%EB%9E%98%EC%84%9C-%EC%96%B4%EB%96%A4-%ED%95%A8%EC%88%98%EA%B0%80-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98%EC%97%90-%EB%8D%94-%EC%A0%81%ED%95%A9%ED%95%9C%EA%B0%80%EC%9A%94\" aria-label=\" 그래서 어떤 함수가 애니메이션에 더 적합한가요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👍 그래서 어떤 함수가 애니메이션에 더 적합한가요?</h2>\n<p><strong>requestAnimationFrame</strong>을 다음과 같은 이유로 추천합니다!👍 👍</p>\n<ol>\n<li>브라우저가 <strong><code class=\"language-text\">repaint</code>를 실행하려 할 때 동기화</strong>합니다.</li>\n<li><strong>애니메이션에 최적화</strong>된 함수이며, <strong><code class=\"language-text\">60fps</code>를 목표로 동작</strong>하며 디스플레이에 따라 더 높은 프레임률을 보입니다.</li>\n<li>브라우저가 하는 일에 따라 <strong>함수의 속도를 조절하고 일시중지</strong> 합니다.</li>\n<li>브라우저 상태에 따라 함수가 일시중지되기에, <strong><code class=\"language-text\">CPU 리소스</code>와 <code class=\"language-text\">배터리 수명</code>을 낭비하지 않습니다.</strong></li>\n<li><strong>모든 <code class=\"language-text\">최신 데스크톱</code> 및 <code class=\"language-text\">모바일 브라우저</code>에서 지원됩니다.</strong></li>\n</ol>\n<p><strong>🤖 최근들어 애니메이션을 구현하기 위해서 setInterval과 setTimeout을 사용하지 않는 추세입니다.🤖</strong></p>\n<br />\n<h2 id=\"-브라우저-벤더를-고려한다면\" style=\"position:relative;\"><a href=\"#-%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%EB%B2%A4%EB%8D%94%EB%A5%BC-%EA%B3%A0%EB%A0%A4%ED%95%9C%EB%8B%A4%EB%A9%B4\" aria-label=\" 브라우저 벤더를 고려한다면 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>😎 브라우저 벤더를 고려한다면!</h2>\n<div class=\"codebox-title\">script.js</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> requestAnimationFrame <span class=\"token operator\">=</span>\n  window<span class=\"token punctuation\">.</span>requestAnimationFrame <span class=\"token operator\">||</span>\n  window<span class=\"token punctuation\">.</span>mozRequestAnimationFrame <span class=\"token operator\">||</span>\n  window<span class=\"token punctuation\">.</span>webkitRequestAnimationFrame <span class=\"token operator\">||</span>\n  window<span class=\"token punctuation\">.</span>msRequestAnimationFrame<span class=\"token punctuation\">;</span></code></pre></div>\n<p><strong>requesetAnimationFrame을 지원하지 않는 환경까지 고려한다면</strong></p>\n<div class=\"codebox-title\">script.js</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> requestAnimationFrame <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    window<span class=\"token punctuation\">.</span>requestAnimationFrame <span class=\"token operator\">||</span>\n    window<span class=\"token punctuation\">.</span>webkitRequestAnimationFrame <span class=\"token operator\">||</span>\n    window<span class=\"token punctuation\">.</span>mozRequestAnimationFrame <span class=\"token operator\">||</span>\n    window<span class=\"token punctuation\">.</span>oRequestAnimationFrame <span class=\"token operator\">||</span>\n    window<span class=\"token punctuation\">.</span>msRequestAnimationFrame <span class=\"token operator\">||</span>\n    <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">callback</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      window<span class=\"token punctuation\">.</span><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span>callback<span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span> <span class=\"token operator\">/</span> <span class=\"token number\">60</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br />\n<br />\n<p>틀린 설명 혹은 보충이 필요한 설명은 코멘트 달아주시면 감사하겠습니다! 🙏</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-animation-loop%EB%8A%94-%EC%96%B8%EC%A0%9C-%EC%8B%A4%ED%96%89%EB%90%98%EB%82%98%EC%9A%94\">🤔 Animation Loop는 언제 실행되나요?</a></p>\n</li>\n<li>\n<p><a href=\"#-setinterval\">🔮 SetInterval</a></p>\n<ul>\n<li><a href=\"#%EF%B8%8F-setinterval%EC%9D%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C\">⚡️ setInterval이란 무엇일까?</a></li>\n<li><a href=\"#%EF%B8%8F-setinterval%EB%A1%9C-%EC%9E%91%EC%84%B1%ED%95%9C-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98\">⚡️ setInterval로 작성한 애니메이션</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-requestanimationframe\">🔮 requestAnimationFrame</a></p>\n<ul>\n<li><a href=\"#%EF%B8%8F-requestanimationframe%EC%9D%B4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%BC%EA%B9%8C\">⚡️ requestAnimationFrame이란 무엇일까?</a></li>\n<li><a href=\"#%EF%B8%8F-requestanimationframe%EB%A1%9C-%EC%9E%91%EC%84%B1%ED%95%9C-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98\">⚡️ requestAnimationFrame로 작성한 애니메이션</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%EC%9D%B4%EC%A0%9C-%EA%B2%B0%EA%B3%BC%EB%A5%BC-%EB%B9%84%EA%B5%90%ED%95%B4-%EB%B4%85%EC%8B%9C%EB%8B%A4\">👩‍💻 이제 결과를 비교해 봅시다</a></p>\n</li>\n<li>\n<p><a href=\"#-%EA%B7%B8%EB%9E%98%EC%84%9C-%EC%96%B4%EB%96%A4-%ED%95%A8%EC%88%98%EA%B0%80-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98%EC%97%90-%EB%8D%94-%EC%A0%81%ED%95%A9%ED%95%9C%EA%B0%80%EC%9A%94\">👍 그래서 어떤 함수가 애니메이션에 더 적합한가요?</a></p>\n</li>\n<li>\n<p><a href=\"#-%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80-%EB%B2%A4%EB%8D%94%EB%A5%BC-%EA%B3%A0%EB%A0%A4%ED%95%9C%EB%8B%A4%EB%A9%B4\">😎 브라우저 벤더를 고려한다면!</a></p>\n</li>\n</ul>\n</div>","excerpt":"🤔 Animation Loop는 언제 실행되나요?  Animation Loop는 브라우저 렌더링 과정에서  이전 단계에서 진행됩니다. Reflow 모든 요소의 크기와 위치를 다시 계산하는 과정 Repaint reflow 다음 단계, 레이아웃을 제외한 요소가 그려지는 과정 Composite 다양한 요소를 레이어로 그룹화하고 이러한 레이어를 래스터화는 과정 🔮 SetInterval ⚡️ setInterval이란 무엇일까? requestAnimationFrame의 등장 이전의 자바스크립트 애니메이션 구현에 과 주로 사용되는 함수라고 합니다.\nsetInterval의 두번째 인자에 을 기입해 애니메이션의 반복 속도를 조절할 수 있는 장점이 있습니다.\n하지만 디스플레이 성능을 고려하지 않은 짧은 업데이트 주기 때문에 애니메이션의 프레임 드랍이 발생하는 단점이 있습니다.  ⚡️ setInterval로 작성한 애니메이션 시간의 흐름에 따라 에몽가가 왼쪽으로 이동하는 애니메이션을 작성했습니다.\nfps…","frontmatter":{"date":"April 05, 2022","title":"어떤 Animation Loop를 사용하는게 좋을까?","categories":"Javasctipt featured","author":"한지은","emoji":"🎨"},"fields":{"slug":"/javascript-animation-loop/"}},"next":{"id":"879763a9-c242-5361-81b8-9a73a2b91d72","html":"<a href=\"https://threejs.org/\" target=\"_blank\">\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 300px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAABcUlEQVQ4y7XUTUuUURwF8N9MRBJIUohGEaRmUAslkF6IClMLS5GISkUJyohedkEQ1C4igsCFSJsWfQd3fYQ+VFw4Dw41M86MeODhPveFc8//nD+XXdRQz3ggqOfrGpWiecxhrMWZQ90SLofwGl7jFSZxvIX6WrvSCq5iJP8v8QnTuI/nWMJpHGkiqN5M4Sk8jdKCGziK/pB/xB08wBNcwsBeZf9IuaO4jtUQFCxkPIctvI/6sn/rXwuqyT1M4AI+4A/uYjj+LkTlsayLLW9b+VhuOpsg1rGWYK5E1U4u7A95Of+oXclDeIeVzOcSQrHgDZ7hctZ/4UUTjv+wHXVTuBmvZrK3lHEqwbQlqzWoOp8W+YbfWRtPCBtY7ERZ5WNRcwYX49PjkBUvf6a1usIJbDaYPYu+BDOzl6pWSj+HsLTRQ3xJol2TVYdLjw3iML42qK338mQV3E4wsylVr09ZhaLue9pj32QVwclePOvU047xF186KPIoP6X4AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"threejs.org\" title=\"threejs.org\" src=\"/static/862fc016c922f417fe1fee82e45ff2d7/5a46d/basic-of-threejs-01.png\" srcset=\"/static/862fc016c922f417fe1fee82e45ff2d7/e9ff0/basic-of-threejs-01.png 180w,\n/static/862fc016c922f417fe1fee82e45ff2d7/5a46d/basic-of-threejs-01.png 300w\" sizes=\"(max-width: 300px) 100vw, 300px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n</a>\n<hr>\n<p>최근 스크롤 인터렉션 웹 사이트 공부를 하면서, 더 화려하고 멋진 3D 웹사이트 구현에 자연스레 관심이 생겼다.\n사실 나는 이전에 Threejs를 살짝 공부했다가 좌절한 경험이 있는데… 너무 매력적인 프레임워크지만, 쉽게 접할 수 있는 설명은 대부분 영어로 되어있어 Canvas도 미숙한 내게는 너무 어려웠었다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.55555555555555%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABQElEQVQoz6WQX0vCYBTGz3nXGAYF/YES3NybKURXQtBX6CrqJrwKwq76HgrR56pA6E5Z+6eWztQPEGPOnZhbhLRs2cWP5+E95zw8vGC2mod9p3M7GI1rk8mk/u66dedtVHeG40gX0B8MZ9pzhrVef3CnPRtleLh/vDR0i5otnTTNJNPskKZZZFldstuvZNsvPxLu2naXdKNNum5To/F0A7mcesF5kfK85CpKwVPkgpdXCp6aL3pcTQkvuVwtkiLvXQEAVACAAGAKAEHs/0J448e+CoisgoiEiFNEDGI/x+cxS5jFN37kWTVVw4PdddrfWk3XcFEgY1G7Y3Wb+EZm5lcEYblAxhiJovitUfieNtCPh3OEfxSqIAiBJElB0s5XIP4emJLEhv9DzBBsZq/DwCwAnAHA6XJgpGs753B0In8AXvM9RnU5ppIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"threejs로 만들었던 결과물\"\n        title=\"threejs로 만들었던 결과물\"\n        src=\"/static/9240fa46099617a5cb5ddb343265ecb3/37523/basic-of-threejs-02.png\"\n        srcset=\"/static/9240fa46099617a5cb5ddb343265ecb3/e9ff0/basic-of-threejs-02.png 180w,\n/static/9240fa46099617a5cb5ddb343265ecb3/f21e7/basic-of-threejs-02.png 360w,\n/static/9240fa46099617a5cb5ddb343265ecb3/37523/basic-of-threejs-02.png 720w,\n/static/9240fa46099617a5cb5ddb343265ecb3/302a4/basic-of-threejs-02.png 1080w,\n/static/9240fa46099617a5cb5ddb343265ecb3/07a9c/basic-of-threejs-02.png 1440w,\n/static/9240fa46099617a5cb5ddb343265ecb3/f3d76/basic-of-threejs-02.png 3248w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p style=\"color: #9E9E9E; font-size: 14px; text-align:center; margin: -30px 10px 0 10px;\">그 당시 만들었던 3D 오브젝트... 선로를 따라 달리는 말을 표현하고 싶었지만 개념 이해를 제대로 하지 못해 결국 포기했다.개념을 제대로 익히지 않은 상태로 REACT로 개발한것도 한몫 했다.</p>\n<br />\n<p>하지만 3D웹 사이트를 구현하고픈 나의 욕심이 나를 다시 Threejs앞으로 이끌었다. 이번에는 꼭 좋은 성과를 이루길 바라며 다시 기초부터 공부를 시작해보자!!</p>\n<p>개발 환경은 webpack + module threejs를 바탕으로 진행했습니다.</p>\n<hr>\n<h2 id=\"-threejs란\" style=\"position:relative;\"><a href=\"#-threejs%EB%9E%80\" aria-label=\" threejs란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>👋 Three.js란?</h2>\n<p><strong>Three.js</strong>는 웹페이지에 3D객체를 쉽게 렌더링하도록 도와주는 자바스크립트 3D 라이브러리이다.\nThree.js는 3D객체를 렌더링하는데 <code class=\"language-text\">WebGL</code>을 사용합니다.</p>\n<blockquote>\n<p><strong>WebGL(web Graphics Library)</strong> <br /> 점, 섬, 삼각형만 그리는 아주 단순한 자바스크립트</p>\n</blockquote>\n<p>WebGL로 작업하려면 작업량이 많아지고 코드 자체도 복잡해질 수 밖에 없는데…\n이런 단점을 보완하고자 3D 객체를 조금 더 편하고 효율적으로 짤 수 있게 도움을 주는 <code class=\"language-text\">Three.js</code>, <code class=\"language-text\">Babylon.js</code>와 같은 라이브러리를 사용한다고 합니다.</p>\n<h2 id=\"-threejs의-구성요소\" style=\"position:relative;\"><a href=\"#-threejs%EC%9D%98-%EA%B5%AC%EC%84%B1%EC%9A%94%EC%86%8C\" aria-label=\" threejs의 구성요소 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🗂 Threejs의 구성요소</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAADrElEQVQ4yzWSS0wbZxSFL5BlNlUWVTetVJR9d5GaTZfdtYsuonbTqpVaqaq6ahoWlApqCHYghEdMoW2ghZAYAy4Yxu/4hedlG5uXPR6bJFREENsMM8b+x57w38qELD6dxT1X9+roAJ8j8Br9XLmcDhuFM3gU3YO4Kzfgscf8UedmIOM+vJbY0IB9ZgAnvd7hJB0WIqcwEyAw7iTwQ5cCzcEVTiI9rEQsnET6m/A50h/cJP0BXvP62eNEVFTiwm7tASvpJi5LzG98bJbc9iZrd1d48uXIv+T9njG1rXntqiDrKOZ1FGUd+ZyOyT0dfak6Wh3PccJ5gN50AxMFHd/4mirIBEW5jraggkOPMtV79gNmcA4vAy+R9uAWUTwJFb0JrRFIaYZLODbW+GPDxStnq+wxXeOPqX9De+VNqgYjKoYvqRmBVMVwiYruTdbQk6gNISJ4ErQVEvlGuy1c1e49zuKsXzlz8jU6YpOodTFPV4U6nfEe0dGFPF3mdDofrtBRu0znAgpdEw1qXXpmPHC9RCZuWCadDZhcrbQCJ9fbuSzR1lMaOoWTM0ekSBleO2cpUqTu2An1JjTqiJaoM6ZQhlepI1ykjmiZBlI1g8vqyGbJgJjXgc3orRDL6u2CTJRYukKn3YeN0YWCYY9WDVvo9NXIfM546CoajljFGFsoGP/4isYKVzfGF2VjdF423PEq2XhaR04iFkEmIOb11maGV7mcjrxEML5VRj6rISfXUMwRTOyoyGdUFDIqcrsqzkdU/Nv1Hy6zVVzhTnGK2ceFqIahrfqYK94AJ0famr17h5eInZPrjLClMoJ44I1kVTfH7oX5+AsPu1li1ndKnvDuidvmKTG/O/LM0vrpmjOseCaXJMYWKkfDW42vfckzWOVq5x+eF5XdR8jMeyGICAwi4AXJC7UjAlzwFyJsP1XBP7sMMV8IQsky+Nb3W7z+XYB0rABcutSWRYQDs+VG+TfTr9Wfb3XTH3/6YOf7Ty/PLfV+84e/r3MmaPns47fgEsD1lv1gZ/uR/3bHC1dv52nkzucv2T8vGawJ1JAZoNTXB/sDAy1Hg4NQNJu7n5vNKJlMuNfbWzywWt6bESfWpoIjOMtZ8aFw//7ENWhF3413T570e9KPfykcevr9uG1+GzN3oR7uaYGS2QwVkwlwfBzu3LwJUlfXJ9GOjq+2u7u/xe9uXUH4AqaDwyPDi73pqSfDKSY5dD2UX4by6jQMDs2DkKhAxvoRbAx9CNgD8D/re+6b0TeCqgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"structure of threejs\"\n        title=\"structure of threejs\"\n        src=\"/static/a3e906728a2c71c6daf031484bcd5374/37523/basic-of-threejs-03.png\"\n        srcset=\"/static/a3e906728a2c71c6daf031484bcd5374/e9ff0/basic-of-threejs-03.png 180w,\n/static/a3e906728a2c71c6daf031484bcd5374/f21e7/basic-of-threejs-03.png 360w,\n/static/a3e906728a2c71c6daf031484bcd5374/37523/basic-of-threejs-03.png 720w,\n/static/a3e906728a2c71c6daf031484bcd5374/e5715/basic-of-threejs-03.png 768w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p style=\"color: #9E9E9E; font-size: 14px; text-align:center; margin: -15spx 10px 0 10px;\">\nthree.js에서 제공하는 다이어그램\n</p>\n<br />\n<p>threejs로 표현을 하려면 Renderer, Scene 그리고 Camera가 반드시 있어야합니다.\n<br />\n각각의 요소가 어떤 역할을 하는지 하나씩 알아봅시다 🧐</p>\n<br />\n<h3 id=\"-renderer\" style=\"position:relative;\"><a href=\"#-renderer\" aria-label=\" renderer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🎬 Renderer</h3>\n<p>Renderer는 Three.js의 핵심 객체로 <code class=\"language-text\">Scene</code>과 <code class=\"language-text\">Camera</code>객체를 넘겨 받아 카메라의 절두체 안 3D씬의 일부를 평면(2차원) 이미지로 렌더링합니다. 쉽게, Camera가 담고있는 Scene를 화면에 출력해주는 객체라고 생각하시면 됩니다.\n<br />\nRenderer를 생성하는 방법을 아래와 같이 두가지가 있습니다.</p>\n<ol>\n<li>javascript에서 renderer를 생성해 body에 붙이는 방법</li>\n</ol>\n<div class=\"codebox-title\">main.js</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> renderer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>WebGLRenderer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nrenderer<span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>innerWidth<span class=\"token punctuation\">,</span> window<span class=\"token punctuation\">.</span>innerHeight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ndocument<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>renderer<span class=\"token punctuation\">.</span>domElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            ⋮\nrenderer<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>scene<span class=\"token punctuation\">,</span> camera<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br />\n<ol start=\"2\">\n<li>body에 만들어둔 canvas태그를 사용해 renderer에 지정해주는 방법</li>\n</ol>\n<div class=\"codebox-title\">index.html</div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>canvas</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>three-canvas<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>canvas</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"codebox-title\">main.js</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> canvas <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#three-canvas'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> renderer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>WebGLRenderer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> canvas <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nrenderer<span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>innerWidth<span class=\"token punctuation\">,</span> window<span class=\"token punctuation\">.</span>innerHeight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            ⋮\nrenderer<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>scene<span class=\"token punctuation\">,</span> camera<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br />\n<h3 id=\"-scene\" style=\"position:relative;\"><a href=\"#-scene\" aria-label=\" scene permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🏙 Scene</h3>\n<p>Scene객체는 화면을 구성하는 <code class=\"language-text\">물체(Object)</code>와 <code class=\"language-text\">광원(Light)</code>를 저정하고 관리하는 역할을 합니다. 물체와 광원을 생성한 뒤, 해당 객체를 Scene객체에 포함시켜야 화면에 나타납니다.\n해당 객체는 추후에 더 자세히 설명해보겠습니다.</p>\n<div class=\"codebox-title\">main.js</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> scene <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Scene</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nscene<span class=\"token punctuation\">.</span>fog <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Fog</span><span class=\"token punctuation\">(</span><span class=\"token string\">'blue'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> light <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>DirectionalLight</span><span class=\"token punctuation\">(</span><span class=\"token number\">0xffffff</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nlight<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\nlight<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\nlight<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span>z <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\nscene<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>light<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAoUlEQVQoz8WSsQrCYBCDk6tDBTdRUEpFcSoInUS66uBiJytUxEfwRYrjjyD6rBF0sJvQ/uCQ6e4+ciQAIM/6tUCxJg9Ajw4NXQ0x1xSJZlhojJECWBPg57UAE2U8yVkuZ6UqHhWh/56xCdAQa8lCd67lmKvioS0w0oqlHtzqyb1uPCvGoAnwe5Ag1ZUbXZhph1Q9hO1SNkAhOj57WIf/oYcvaVTpk7Nb4TsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"안개와 광원 효과 추가\"\n        title=\"안개와 광원 효과 추가\"\n        src=\"/static/35cb14ed4e2889ac2f0f0017a104f7c6/37523/basic-of-threejs-07.png\"\n        srcset=\"/static/35cb14ed4e2889ac2f0f0017a104f7c6/e9ff0/basic-of-threejs-07.png 180w,\n/static/35cb14ed4e2889ac2f0f0017a104f7c6/f21e7/basic-of-threejs-07.png 360w,\n/static/35cb14ed4e2889ac2f0f0017a104f7c6/37523/basic-of-threejs-07.png 720w,\n/static/35cb14ed4e2889ac2f0f0017a104f7c6/302a4/basic-of-threejs-07.png 1080w,\n/static/35cb14ed4e2889ac2f0f0017a104f7c6/07a9c/basic-of-threejs-07.png 1440w,\n/static/35cb14ed4e2889ac2f0f0017a104f7c6/c8ad9/basic-of-threejs-07.png 1564w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p style=\"color: #9E9E9E; font-size: 14px; text-align:center; margin: -5px 10px 0 10px;\">\n    광원이 있어야 보이는 3D Object을 사용했습니다. 안개색은 배경와 같은 색을 사용하면 <b>Shadow</b>효과를 낼 수 있습니다.\n</p>\n<br />\n<h3 id=\"-camera\" style=\"position:relative;\"><a href=\"#-camera\" aria-label=\" camera permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📷 Camera</h3>\n<p>카메라는 Scene객체를 촬영하여 어떻게 보여줄 것인가를 결정합니다. 같은 Scene이라도 카메라의 위치 및 기타 설정값들을 통해서 다른 화면을 보여줄 수 있습니다.</p>\n<p><img src=\"/10ee3e22c4b9ae46b3b1ff64ef253b6e/basic-of-threejs-04.gif\" alt=\"카메라 절두체(viewing frustum)\"></p>\n<p style=\"color: #9E9E9E; font-size: 14px; text-align:center; margin: -15px 10px 0 10px;\">\n    시야각, 종횡비, <span style=\"color: rgb(110, 250,34)\">near</span>, <span style=\"color: rgb(228, 64, 36)\">far</span>에 따라 보이는 Scene이 변합니다.\n</p>\n<br />\n<p>Camera는 <code class=\"language-text\">PerspectiveCamera</code>와 <code class=\"language-text\">OrthographicCamera</code>가 있는데 객체별 코드와 결과를 확인해봅시다.</p>\n<div class=\"codebox-title\">main.js - Perspective Camera</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> camera <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>PerspectiveCamera</span><span class=\"token punctuation\">(</span>\n  <span class=\"token number\">75</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// fov(시야각)</span>\n  window<span class=\"token punctuation\">.</span>innerWidth <span class=\"token operator\">/</span> window<span class=\"token punctuation\">.</span>innerHeight<span class=\"token punctuation\">,</span> <span class=\"token comment\">// aspect(종횡비)</span>\n  <span class=\"token number\">0.1</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// near</span>\n  <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// far</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// camera 위치 설정</span>\ncamera<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\ncamera<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\ncamera<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span>z <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span>\nscene<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>camera<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"codebox-title\">main.js - Orthographic Camera</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> camera <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>OrthographicCamera</span><span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">-</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>innerWidth <span class=\"token operator\">/</span> window<span class=\"token punctuation\">.</span>innerHeight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// left</span>\n  window<span class=\"token punctuation\">.</span>innerWidth <span class=\"token operator\">/</span> window<span class=\"token punctuation\">.</span>innerHeight<span class=\"token punctuation\">,</span> <span class=\"token comment\">//right</span>\n  <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//top</span>\n  <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">//bottom</span>\n  <span class=\"token number\">0.1</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// near</span>\n  <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// far</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// camera 위치 설정</span>\ncamera<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span>x <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\ncamera<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\ncamera<span class=\"token punctuation\">.</span>position<span class=\"token punctuation\">.</span>z <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\ncamera<span class=\"token punctuation\">.</span><span class=\"token function\">lookAt</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// updateProjectionMatrix 카메라 속성 업데이트시 호출하는 함수</span>\ncamera<span class=\"token punctuation\">.</span>zoom <span class=\"token operator\">=</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">;</span>\ncamera<span class=\"token punctuation\">.</span><span class=\"token function\">updateProjectionMatrix</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nscene<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>camera<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"img-wrapper\">\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 64.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAhklEQVQ4y+2SMQ5BQRRFzzy/Q/I79oGK9ZH8LRDrUFiQ0gbkiDG/UTFfoVCc3LwpTu7LGwC/zF/4QgIjk4RmmDDljDIfhHO9MJWcEK7AJVvH7Ic1HIEnUJKC6/Ienwr7dnPwAt6yNNyU9auFM/CaZU8WtQ17puAOPIId2P7kP3wcpin5jvAO1ZQRXOxq0jgAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"원근 카메라(Perspective Camera)\" title=\"원근 카메라(Perspective Camera)\" src=\"/static/1f7207e06a0a424d88eecf24fe6a0002/37523/basic-of-threejs-05.png\" srcset=\"/static/1f7207e06a0a424d88eecf24fe6a0002/e9ff0/basic-of-threejs-05.png 180w,\n/static/1f7207e06a0a424d88eecf24fe6a0002/f21e7/basic-of-threejs-05.png 360w,\n/static/1f7207e06a0a424d88eecf24fe6a0002/37523/basic-of-threejs-05.png 720w,\n/static/1f7207e06a0a424d88eecf24fe6a0002/302a4/basic-of-threejs-05.png 1080w,\n/static/1f7207e06a0a424d88eecf24fe6a0002/07a9c/basic-of-threejs-05.png 1440w,\n/static/1f7207e06a0a424d88eecf24fe6a0002/c8ad9/basic-of-threejs-05.png 1564w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 64.44444444444444%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA8UlEQVQ4y53SwUpCURCA4f942kVQyzCD3qJlr9CyZwgiXAS1qKiFRWlEUE8Y3GofpsQfXUYxNb26GGbgHD5m5hwA/48U+UBoCxfCmXAu7I3dGcY8bF14ExyL5zhfWRSsC0UgPaEbdTvOczUwkcxgZtPMqxnNJdgPsLMY+LfDz5FRe5Efq4Ep8g74Aj6w6i2Htjj1hBvXhuBVNTBHvp58Bbtgg2a5v0Sj2isPwM4I0qOmZAuSW2OTTInp4H2AffA76newTq0cM012Nhu8C+Qr0N/6A9xetsOnKTsswI1FwcHFXfAYPAKb4CW4Px+b9Q+Xix/jS0ICaDm82AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"직교 카메라(Orthographic Camera)\" title=\"직교 카메라(Orthographic Camera)\" src=\"/static/6e1e4440dff10bc58d31a1127414ccc0/37523/basic-of-threejs-06.png\" srcset=\"/static/6e1e4440dff10bc58d31a1127414ccc0/e9ff0/basic-of-threejs-06.png 180w,\n/static/6e1e4440dff10bc58d31a1127414ccc0/f21e7/basic-of-threejs-06.png 360w,\n/static/6e1e4440dff10bc58d31a1127414ccc0/37523/basic-of-threejs-06.png 720w,\n/static/6e1e4440dff10bc58d31a1127414ccc0/302a4/basic-of-threejs-06.png 1080w,\n/static/6e1e4440dff10bc58d31a1127414ccc0/07a9c/basic-of-threejs-06.png 1440w,\n/static/6e1e4440dff10bc58d31a1127414ccc0/c8ad9/basic-of-threejs-06.png 1564w\" sizes=\"(max-width: 720px) 100vw, 720px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\" decoding=\"async\">\n    </span>\n</div>\n<p style=\"color: #9E9E9E; font-size: 14px; text-align:center; margin: 10px 10px 0 10px;\">\n    왼쪽이 <b>Perspective Camera</b>, 오른쪽이 <b>Orthographic Camera</b>로 담긴 Scene입니다.\n</p>\n<br>\n<p><strong>Perspective Camera</strong>는 가까이 있는 것은 크게, 멀리 있는것은 작아 보이는 원근법이 적용된 것을 확인할 수 있습니다.\n반면에 <strong>Orthographic Camera</strong>는 원근법이 적용되지 않고 카메라의 z축 위치와는 상관없이 Object들의 크기가 일정하게 보이는것을 확인할 수 있습니다.\n<br /></p>\n<h3 id=\"-mesh\" style=\"position:relative;\"><a href=\"#-mesh\" aria-label=\" mesh permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>📦 Mesh</h3>\n<p>Mesh는 3D화면을 구성하는 물체로, 어떤 <code class=\"language-text\">Material</code>로 하나의 <code class=\"language-text\">Geometry</code>를 그리는 객체입니다. Mesh가 만들어지면 설정값을 통해 3D 공간상의 위치와 자세를 결정할 수 있습니다.\nMaterial,Geometry는 <strong>재사용이 가능</strong>하여 여러개의 Mesh가 하나의 Material 또는 Geometry를 동시에 참조할 수 있습니다. 아래의 코드를 통해 <strong>광원에 영향을 받는 파란색 정육면체</strong>를 만들 수 있습니다.</p>\n<div class=\"codebox-title\">main.js</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> geometry <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>BoxGeometry</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> material <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>MeshStandardMaterial</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  color<span class=\"token operator\">:</span> <span class=\"token string\">'red'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> mesh <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Mesh</span><span class=\"token punctuation\">(</span>geometry<span class=\"token punctuation\">,</span> material<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nmesh<span class=\"token punctuation\">.</span>rotation<span class=\"token punctuation\">.</span>y <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\nscene<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>mesh<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<h2 id=\"-성능-향상에-도움을-주는-팁\" style=\"position:relative;\"><a href=\"#-%EC%84%B1%EB%8A%A5-%ED%96%A5%EC%83%81%EC%97%90-%EB%8F%84%EC%9B%80%EC%9D%84-%EC%A3%BC%EB%8A%94-%ED%8C%81\" aria-label=\" 성능 향상에 도움을 주는 팁 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🎁 성능 향상에 도움을 주는 팁</h2>\n<h3 id=\"-계단-현상제거\" style=\"position:relative;\"><a href=\"#-%EA%B3%84%EB%8B%A8-%ED%98%84%EC%83%81%EC%A0%9C%EA%B1%B0\" aria-label=\" 계단 현상제거 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🎀 계단 현상제거</h3>\n<div class=\"codebox-title\">main.js</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> renderer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>WebGLRenderer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  canvas<span class=\"token punctuation\">,</span>\n  antialias<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 계단현상 제거 >> (미미한) 성능 저하 가능성 있음</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"-픽셀-밀도에-따른-그래픽-최적화\" style=\"position:relative;\"><a href=\"#-%ED%94%BD%EC%85%80-%EB%B0%80%EB%8F%84%EC%97%90-%EB%94%B0%EB%A5%B8-%EA%B7%B8%EB%9E%98%ED%94%BD-%EC%B5%9C%EC%A0%81%ED%99%94\" aria-label=\" 픽셀 밀도에 따른 그래픽 최적화 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🎀 픽셀 밀도에 따른 그래픽 최적화</h3>\n<blockquote>\n<p><strong>window.devicePixelRatio</strong> <br /> 해당 기기의 픽셀 밀도를 수치화해 반환합니다. 수치가 높을수록 고해상도 화면이 제공되어야 합니다.</p>\n</blockquote>\n<p>고해상도로 표현한다는 것은 canvas의 크기를 화면의 2배로 늘리고 해당 장면을 화면 크기로 압축해서 body에 표현하는 것을 의미합니다.\n<br /></p>\n<div class=\"codebox-title\">index.html - 최적화가 진행된 canvas 태그</div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>canvas</span>\n  <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>three-canvas<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">data-engine</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>three.js r138<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>3024<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>934<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token special-attr\"><span class=\"token attr-name\">style</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token value css language-css\"><span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 1512px<span class=\"token punctuation\">;</span> <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 467px<span class=\"token punctuation\">;</span></span><span class=\"token punctuation\">\"</span></span></span>\n<span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>canvas</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>window.devicePixelRatio의 값이 소수이거나 과하게 클경우 성능 저하가 발생할 수 있습니다.\n실제로는 1:1 혹은 2:1대응만 해준다면 화질에 문제가 없기때문에 1혹은 2의 비율로 그래픽 최적화를 진행합니다.</p>\n<div class=\"codebox-title\">main.js</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">renderer<span class=\"token punctuation\">.</span><span class=\"token function\">setPixelRatio</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>devicePixelRatio <span class=\"token operator\">></span> <span class=\"token number\">1</span> <span class=\"token operator\">?</span> <span class=\"token number\">2</span> <span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"-화면-사이즈-자동-조절\" style=\"position:relative;\"><a href=\"#-%ED%99%94%EB%A9%B4-%EC%82%AC%EC%9D%B4%EC%A6%88-%EC%9E%90%EB%8F%99-%EC%A1%B0%EC%A0%88\" aria-label=\" 화면 사이즈 자동 조절 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🎀 화면 사이즈 자동 조절</h3>\n<div class=\"codebox-title\">main.js</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 1. 카메라 조정(화면 사이즈 변경 === 카메라 종횡비 변경)</span>\n  camera<span class=\"token punctuation\">.</span>aspect <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>innerWidth <span class=\"token operator\">/</span> window<span class=\"token punctuation\">.</span>innerHeight<span class=\"token punctuation\">;</span>\n  camera<span class=\"token punctuation\">.</span><span class=\"token function\">updateProjectionMatrix</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// 2. renderer로 다시 그려주기</span>\n  renderer<span class=\"token punctuation\">.</span><span class=\"token function\">setSize</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>innerWidth<span class=\"token punctuation\">,</span> window<span class=\"token punctuation\">.</span>innerHeight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  renderer<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>scene<span class=\"token punctuation\">,</span> camera<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 리사이즈 이벤트 추가</span>\nwindow<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'resize'</span><span class=\"token punctuation\">,</span> setSize<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"-배경색-색상-설정-및-투명도-조절\" style=\"position:relative;\"><a href=\"#-%EB%B0%B0%EA%B2%BD%EC%83%89-%EC%83%89%EC%83%81-%EC%84%A4%EC%A0%95-%EB%B0%8F-%ED%88%AC%EB%AA%85%EB%8F%84-%EC%A1%B0%EC%A0%88\" aria-label=\" 배경색 색상 설정 및 투명도 조절 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>🎀 배경색 색상 설정 및 투명도 조절</h3>\n<p>배경의 투명도는 <code class=\"language-text\">renderer</code>와 <code class=\"language-text\">scene</code>에서 조절해 줄 수 있습니다. <strong>두객체를 통해 같이 조절해줄 경우 배경색은 scene에서 설정한 값</strong>으로 덮어집니다.\n아래와 같이 진행 할 경우, 분홍색 배경으로 설정됩니다.</p>\n<div class=\"codebox-title\">main.js</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> renderer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>WebGLRenderer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  canvas<span class=\"token punctuation\">,</span>\n  antialias<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  alpha<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// renderer.setClearAlpha(0)와 같은 결과</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nrenderer<span class=\"token punctuation\">.</span><span class=\"token function\">setClearColor</span><span class=\"token punctuation\">(</span><span class=\"token number\">0x00ff00</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nscene<span class=\"token punctuation\">.</span>background <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">THREE<span class=\"token punctuation\">.</span>Color</span><span class=\"token punctuation\">(</span><span class=\"token string\">'pink'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.55555555555555%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABh0lEQVQoz6WRz0oCYRTF5wFatI1o2apVLyK1iVkFUSsfIVoVjkSUDxGJZUGkaTrpDBGjzjdZgZmNJpM6GtQiyj/j5NwbMzWkIIm2+HH4vnPu4cKl0jfXM/lKcbP0+up601rMS73OPJRVJq8+M3m1NhC5UmVkterKKeqWlMnNUspFYrGVe8SPjIzNbAHbsoLN+yK2BmBnGncFbGQL+J6WUeFFJ1XxnixAREBkkxpGEzpGBN3SoUhqyCaw5gssUWV/iDbiIiJPDOAIAEdwSAB40jE7qkdny1T54JQ2YilEjhgQFwE5gsPwM/NdeBjuXwhxMyxaamO//12IvGhh/41U2F3WZiXU2dE27JimiREjgBcpeDlOw/jYJ2w7nwCvBNBZAnamm57Cij9Eg3VlqYMcMU2AuAR4KYLqv4XpSQ28a0VAkoROTAI708P3LNbMKyu+E7odFfDzPIE625+/PJs2K2BpP7hC7a6uTwTdnrmg2+MIMr8ETHV7HOHNHUsDTK/fJzu/t7Yx9QXA0xP3JOiI6QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"배경색 변경\"\n        title=\"배경색 변경\"\n        src=\"/static/65fbc0f799bb5b15ed500739611b0267/37523/basic-of-threejs-08.png\"\n        srcset=\"/static/65fbc0f799bb5b15ed500739611b0267/e9ff0/basic-of-threejs-08.png 180w,\n/static/65fbc0f799bb5b15ed500739611b0267/f21e7/basic-of-threejs-08.png 360w,\n/static/65fbc0f799bb5b15ed500739611b0267/37523/basic-of-threejs-08.png 720w,\n/static/65fbc0f799bb5b15ed500739611b0267/302a4/basic-of-threejs-08.png 1080w,\n/static/65fbc0f799bb5b15ed500739611b0267/07a9c/basic-of-threejs-08.png 1440w,\n/static/65fbc0f799bb5b15ed500739611b0267/f3d76/basic-of-threejs-08.png 3248w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<hr>\n<p>다음 포스팅에서는 <strong>3D 오브젝트에 어떻게 애니메이션 효과를 부여하는지</strong>에 대해 알아보겠습니다.\n🥳</p>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-threejs%EB%9E%80\">👋 Three.js란?</a></p>\n</li>\n<li>\n<p><a href=\"#-threejs%EC%9D%98-%EA%B5%AC%EC%84%B1%EC%9A%94%EC%86%8C\">🗂 Threejs의 구성요소</a></p>\n<ul>\n<li><a href=\"#-renderer\">🎬 Renderer</a></li>\n<li><a href=\"#-scene\">🏙 Scene</a></li>\n<li><a href=\"#-camera\">📷 Camera</a></li>\n<li><a href=\"#-mesh\">📦 Mesh</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%EC%84%B1%EB%8A%A5-%ED%96%A5%EC%83%81%EC%97%90-%EB%8F%84%EC%9B%80%EC%9D%84-%EC%A3%BC%EB%8A%94-%ED%8C%81\">🎁 성능 향상에 도움을 주는 팁</a></p>\n<ul>\n<li><a href=\"#-%EA%B3%84%EB%8B%A8-%ED%98%84%EC%83%81%EC%A0%9C%EA%B1%B0\">🎀 계단 현상제거</a></li>\n<li><a href=\"#-%ED%94%BD%EC%85%80-%EB%B0%80%EB%8F%84%EC%97%90-%EB%94%B0%EB%A5%B8-%EA%B7%B8%EB%9E%98%ED%94%BD-%EC%B5%9C%EC%A0%81%ED%99%94\">🎀 픽셀 밀도에 따른 그래픽 최적화</a></li>\n<li><a href=\"#-%ED%99%94%EB%A9%B4-%EC%82%AC%EC%9D%B4%EC%A6%88-%EC%9E%90%EB%8F%99-%EC%A1%B0%EC%A0%88\">🎀 화면 사이즈 자동 조절</a></li>\n<li><a href=\"#-%EB%B0%B0%EA%B2%BD%EC%83%89-%EC%83%89%EC%83%81-%EC%84%A4%EC%A0%95-%EB%B0%8F-%ED%88%AC%EB%AA%85%EB%8F%84-%EC%A1%B0%EC%A0%88\">🎀 배경색 색상 설정 및 투명도 조절</a></li>\n</ul>\n</li>\n</ul>\n</div>","frontmatter":{"date":"March 30, 2022","title":"Three.js의 기초를 알아보자!","categories":"THREEJS featured","author":"한지은","emoji":"🧗‍♂️"},"fields":{"slug":"/basic-of-threejs/"}},"prev":null,"site":{"siteMetadata":{"siteUrl":"https://jieunhanme.github.io","comments":{"utterances":{"repo":"jieunhanme/blog-comments"}}}}},"pageContext":{"slug":"/javascript-animation-loop/","nextSlug":"/basic-of-threejs/","prevSlug":""}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}